server.port=${PORT:8080}

# Build JDBC URL from Railway MySQL service env vars. Fallbacks keep it generic.
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://${MYSQLHOST:localhost}:${MYSQLPORT:3306}/${MYSQLDATABASE:railway}?sslMode=REQUIRED&allowPublicKeyRetrieval=true}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:${MYSQLUSER:root}}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:${MYSQLPASSWORD:}}
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver

# Hibernate
spring.jpa.hibernate.ddl-auto=update
# Optional: let Hibernate auto-detect dialect via driver; keep explicit if desired
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# JWT (use env vars in Railway project settings)
security.jwt.secret=${SECURITY_JWT_SECRET}
security.jwt.expiration-ms=${SECURITY_JWT_EXPIRATION_MS:3600000}

